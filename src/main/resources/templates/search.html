<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="./fragments/common :: html-head">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>검색어 찾기</title>
</head>
<script th:inline = "javascript">
    let list = /*[[${list}]]*/'default';
    let url;
    let id;
    let i = 0;

</script>
<body>
<div th:replace="fragments/common :: header">여기 왜 헤더 안떠</div>
<h1>
    실시간 검색 결과 페이지..
</h1>
<div>
    <h3>검색어를 입력해주세요</h3>
</div>
<br>
<form th:action="@{/search/result}" method="POST" border="1">
    <input type="text" name = "keyword" placeholder="" style="width:200px;height:30px;font-size:20px;">
    <br>
    <br>
    <input TYPE="IMAGE" src="https://i.ibb.co/pPxMtZj/recommendation-Button.png"
           name="submit" value="submit">
</form>

<div>입력 받은 검색어 : <span th:text = "${keyword}"></span></div>

<table border="1">
    <tr th:if="${list.empty}">
        <td>
            <div>
                <span th:text = "${keyword}"></span> 에 해당되는 검색 결과가 없습니다.
            </div>
        </td>
    </tr>
    <tr th:unless="${list.empty}">
        <th> 타이틀 </th>
        <th></th>
        <th> 링크 </th>
        <th></th>
        <th> 본문 </th>
        <th></th>
        <th> 빈도 수 </th>
    </tr>
    <tr th:each = "list , i : ${list}">
        <td> <span th:text = "${list.title}"></span> </td>
        <td></td>
        <td> <a th:id = "${i.index}" href = ""><span th:text = "${list.link}"> </span> </a></td>
        <script>
                id = '#';
                id = id + i;
                url = list[i].link;
                $(id).attr('href',url);
                i = i+1;
            </script>
        <td></td>
        <td> <span th:text = "${list.text}"></span> </td>
        <td></td>
        <td> <span th:text = "${list.freq}"></span> </td>
    </tr>
</table>

<div th:replace="fragments/common :: footer">여기 왜 푸터 안떠</div>
</body>
</html>